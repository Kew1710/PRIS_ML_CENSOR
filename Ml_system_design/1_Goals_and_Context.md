# 1. Цели и предпосылки

## 1.1 Цели разработки продукта

* **Автоматизация мониторинга пользовательских реакций.** Обрабатывать до 500 000 комментариев в день в режиме реального времени.
* **Снижение доли ручной модерации** до менее 10 % от общего потока комментариев.
* **Ускорение реакции** на критический негатив: распознавать и флагировать «опасные» высказывания за ≤ 1 минуты.
* **Снижение затрат** на модерацию не менее чем на 25 % за счет использования ML.
* **Минимизация рисков штрафов** от регуляторов (РКН) благодаря своевременной идентификации неприемлемого контента.

## 1.2 Почему ML лучше текущего ручного анализа

1. **Масштабируемость.** ML-модель способна обрабатывать сотни тысяч комментариев за минуты без усталости и ошибок.
2. **Скорость.** Автоматическая классификация встраивается в конвейер публикации и работает в реальном времени.
3. **Консистентность.** Однообразные критерии и пороги снижуют вариативность и субъективность решений.
4. **Адаптивность.** Модель можно дообучать на новых данных и быстро реагировать на языковые тренды и мемы.
5. **Экономия.** После запуска поддержка ML-сервиса обходится дешевле, чем круглосуточная работа штатных модераторов.Кроме того, работа ML - сервиса снижает количество необязательных расходов (штрафов от РКН)

## 1.3 Бизнес-требования и ограничения

* **Точность классификации:** precision ≥ 90 %, recall ≥ 85 % на негативных примерах. F-b мера с коэффицентом **
* **Производительность:** latency ≤ 200 мс (среднее), 95‑й процентиль ≤ 500 мс.
* **Пропускная способность:** ≥ 5 000 запросов/сек (\~ 300 000 комментариев/мин).
* **Интеграция:** REST/Message Broker — без серьёзных изменений существующего бэкенда.
* **Срок пилота:** 4 недели с момента старта.
* **Юридические требования:** соответствие ФЗ‑152 (персональные данные), аудит решений модели.

## 1.4 Функциональные и нефункциональные требования

### Функциональные требования

* **API классификации:** `POST /classify` → `{label, score}`.
* **Предобработка текста:** очистка от HTML/эмодзи, определение языка.
* **Интерфейс модератора:** очередь флагов, фильтрация, операции «одобрить/удалить».
* **Отчётность:** выгрузка CSV/Excel, дашборд с ключевыми метриками.
* **Конвейер дообучения:** сбор «трудных» случаев, ручная разметка, регулярное обновление модели.

### Нефункциональные требования

* **Надёжность:** аптайм ≥ 99.5 %, доля ошибок < 1 %.
* **Масштабируемость:** авто-скейлинг (Kubernetes, Kafka/RabbitMQ).
* **Безопасность:** HTTPS/TLS, RBAC, логи аудита.
* **Мониторинг:** метрики Prometheus + Grafana.

## 1.5 Критерии успеха пилота

* **Precision ≥ 90 %**, **Recall ≥ 85 %**, **F-b ≥ 0.87** на негативных комментариях.
* **Latency ≤ 200 мс** (среднее), **95‑й процентиль ≤ 500 мс**.
* **Throughput ≥ 5 000 req/sec**.
* **Автоматическая классификация ≥ 80 %** случаев без участия модератора.
* **Стабильность:** аптайм ≥ 99.5 %, доля таймаутов и ошибок < 1 %.
* **Оценка модераторов:** удовлетворённость ≥ 4 из 5.

## 1.6 Границы MVP и технический долг

### Входит в MVP

* Базовый inference‑API с лейблами `positive`, `neutral`, `negative` и score.
* Простая веб‑панель модератора с фильтрацией и ручными операциями.
* Сбор «трудных» случаев (confidence < 0.6).
* Мониторинг latency, throughput, ошибок.
* Документация API и инструкции для модераторов.

### Технический долг (после MVP)

* Онлайн‑дообучение и интеграция MLflow/DVC.
* Расширенная аналитика и дашборды.
* Авто‑скейлинг и шардирование моделей.
* Интеграция с алертами (Slack/Teams).
* Детектирование сарказма, спама и другие NLP‑фичи.

